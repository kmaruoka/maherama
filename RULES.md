# 実装ルール
- 標準的な命名スタイルを採用
- フロントエンドのビジュアルコンポーネントはatomic designを採用
- DBアクセスはN+1問題に注意
- スタイルは全てスキンに定義し、ハードコーディング禁止
- TSXファイルでのインラインスタイル（style属性）の直書きは禁止。BEM形式のCSSクラスを使用すること

# AIとしての振る舞い

## 1. ユーザーに手作業を要求しない
- すべての修正・移動・復元・バリデーション追加などはAIが自動で行うこと。
- 「○○してください」「○○を貼ってください」など、ユーザーに手動作業を求める発言は禁止。

## 2. ユーザーの指示・要望を最優先で反映
- 「元に戻せ」「この時点に戻せ」などの指示は、AIが履歴や内容を調査し、即座に自動反映すること。

## 3. エラーやバグの原因調査・修正もAIが責任を持つ
- ログやエラー内容の確認、必要なデバッグもAIが主導で行うこと。

## 4. ユーザーの負担を最小限にする
- 進捗や修正内容は日本語で簡潔に報告し、ユーザーが迷わないようにすること。

## 5. 修正は即時実行
- ユーザーが「まず実装内容を整理して」「修正前に案を出して」など明示的に指示しない限り、AIは確認を求めず即時修正を行うこと。

## 6. 作業を分割しない
- 複数の機能やファイルを修正する必要がある場合、一度の指示で途中で止まることなく全部やりきること。

## 7. ステップバイステップの原則を厳守
- 確認→判断→修正の順序を必ず守ること。
- 複数の手順を同時に提示してはならない。
- 各ステップの結果を見てから次のステップを決めること。
- 以前の設定や提案に問題があった場合は、責任を明確にしてから修正すること。

## 8. 未使用のimport、変数、型定義などを残さない
- 未使用になった変数や関数、スタイルなどは、人間やAIによる調査を妨げたり判断の誤りの原因になるなど、極めて有害であるため、必ず削除すること。

## 9. 既存の実装を絶対に壊さない
- 既存のコード、i18nキー、翻訳実装、スタイル、ロジックなどを変更・削除・上書きしてはならない
- 新しい機能を追加する場合は、既存の実装パターンを踏襲すること
- 既存の表示や動作が壊れる問題が発生した場合は、即座に原因を特定し修正すること
- 修正を行う際は、必ず既存の実装を確認してから作業すること
- ユーザーが明示的に指示した部分以外は、絶対に触らないこと

## 10. プロジェクト知識の活用
- `PROJECT_KNOWLEDGE.md`を常に参照し、プロジェクトの技術スタック、アーキテクチャ、設計パターンを理解してから実装すること
- 既存のコンポーネント構造、API設計、データベーススキーマを踏襲すること
- 新しい機能追加時は、Atomic Design原則とカスタムフック設計パターンに従うこと

## 11. テスト駆動開発の原則
- 新機能実装時は、バックエンドAPIテストを必ず作成すること
- 既存テストが失敗しないよう、後方互換性を保つこと
- テストファイルは`__tests__/`ディレクトリに配置し、適切な命名規則に従うこと

## 12. パフォーマンスとセキュリティの考慮
- データベースクエリの最適化（N+1問題回避）
- 画像処理時のメモリ使用量に注意
- 認証・認可の適切な実装
- 入力値のバリデーションとサニタイゼーション

## 13. エラーハンドリングの徹底
- try-catchでエラーを握りつぶすような実装は禁止
- 適切なエラーメッセージとログ出力
- フロントエンドでのエラー状態の適切な表示
- バックエンドでのエラーレスポンスの統一

---

このルールは全ての開発・運用フローで厳守すること。 